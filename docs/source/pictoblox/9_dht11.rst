.. _sh_humiture:

2.9 Temperatur und Feuchtigkeit auslesen
=================================================

Bisherige Projekte nutzten den Bühnenmodus, aber einige Funktionen sind nur im Hochlademodus verfügbar, wie z.B. die serielle Kommunikation.
In diesem Projekt werden wir die Temperatur und die Feuchtigkeit des DHT11 über den Seriellen Monitor im :ref:`upload_mode` ausgeben.

.. image:: img/11_serial.png

Was Sie lernen werden
------------------------

- Temperatur und Feuchtigkeit vom DHT11-Modul auslesen
- Seriellen Monitor für den :ref:`upload_mode` nutzen
- Erweiterungen hinzufügen

Benötigte Komponenten
------------------------

Für dieses Projekt benötigen Sie folgende Bauteile.

Es ist natürlich praktisch, ein ganzes Set zu kaufen, hier der Link:

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Name	
        - ARTIKEL IN DIESEM KIT
        - LINK
    *   - 3 in 1 Starter Kit
        - 380+
        - |link_3IN1_kit|

Sie können die Teile auch einzeln über die untenstehenden Links kaufen.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - KOMPONENTENBESCHREIBUNG
        - KAUF-LINK

    *   - :ref:`cpn_uno`
        - |link_Uno_R3_buy|
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_wires`
        - |link_wires_buy|
    *   - :ref:`cpn_dht11` 
        - \-

Schaltung aufbauen
-----------------------

Der digitale Temperatur- und Feuchtigkeitssensor DHT11 ist ein Kombisensor, der einen kalibrierten digitalen Signalausgang für Temperatur und Feuchtigkeit bietet.

Bauen Sie die Schaltung gemäß dem folgenden Diagramm auf.

.. image:: img/circuit/dht11_circuit.png

Programmierung
------------------

**1. Erweiterungen hinzufügen**

Wechseln Sie in den **Upload**-Modus, klicken Sie auf den **Add Extension**-Button in der unteren linken Ecke und wählen Sie dann **Communication** aus. Dies wird am Ende des Palettenbereichs angezeigt.

.. image:: img/11_addcom.png

**2. Arduino Uno und Seriellen Monitor initialisieren**

Im **Upload**-Modus starten Sie Arduino Uno und setzen dann die Baudrate des seriellen Ports.

* [when Arduino Starts up]: Im **Upload**-Modus starten Sie Arduino Uno.
* [set serial baud rate to]: Aus der **Communications**-Palette, zum Setzen der Baudrate des seriellen Ports 0, Standard ist 115200. Wenn Sie einen Mega2560 verwenden, können Sie die Baudrate in den seriellen Ports 0~3 einstellen.

.. image:: img/11_init.png

**3. Temperatur und Feuchtigkeit auslesen**

Erstellen Sie 2 Variablen **tem** und **humi** zum Speichern von Temperatur und Feuchtigkeit. Der Code erscheint auf der rechten Seite, während Sie den Block ziehen und ablegen.

.. image:: img/11_readtem.png

**4. Auf dem Seriellen Monitor ausgeben**

Schreiben Sie die ausgelesene Temperatur und Feuchtigkeit auf den Seriellen Monitor. Um ein zu schnelles Übertragen und ein Blockieren von PictoBlox zu vermeiden, verwenden Sie den [wait seconds]-Block, um ein Zeitintervall für die nächste Ausgabe hinzuzufügen.

.. image:: img/11_writeserial.png

**5. Code hochladen**

Im Gegensatz zum **Stage**-Modus muss der Code im **Upload**-Modus mit dem **Upload Code**-Button auf das Arduino-Board geladen werden, um den Effekt zu sehen. So können Sie das USB-Kabel abziehen und das Programm läuft weiter.

.. image:: img/11_upload.png

**6. Seriellen Monitor starten**

Öffnen Sie jetzt den **Serial Monitor**, um die Temperatur und die Feuchtigkeit zu sehen.

.. image:: img/11_serial.png

